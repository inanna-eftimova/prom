"use strict";(self.webpackChunkdream_prom=self.webpackChunkdream_prom||[]).push([[395],{395:(G,u,s)=>{s.r(u),s.d(u,{OffersRoutingModule:()=>$});var a=s(8698),t=s(1223),c=s(274),p=s(2290),m=s(9808),f=s(1532);function g(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",14)(1,"button",15),t._uU(2,"Edit"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).delete()}),t._uU(4,"Delete"),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(1),t.MGl("routerLink","/element/details/",e.dataId,"/edit")}}function _(r,i){if(1&r&&(t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5),t._UZ(4,"img",6),t.qZA(),t.TgZ(5,"div",7)(6,"div",8)(7,"h2",9),t._uU(8),t.qZA()(),t.TgZ(9,"div",8)(10,"h4",10),t._uU(11),t.qZA()(),t.TgZ(12,"div",8)(13,"h5",11),t._uU(14),t.qZA()(),t.TgZ(15,"div",8)(16,"p",12),t._uU(17),t.qZA()(),t.YNc(18,g,5,1,"div",13),t.qZA()()()()),2&r){const e=t.oxw();t.xp6(4),t.s9C("src",null==e.data?null:e.data.img,t.LSH),t.xp6(4),t.Oqu(null==e.data?null:e.data.title),t.xp6(3),t.Oqu(null==e.data?null:e.data.stars),t.xp6(3),t.hij("Price: $",null==e.data?null:e.data.price,""),t.xp6(3),t.hij("Description: ",null==e.data?null:e.data.description,""),t.xp6(1),t.Q6J("ngIf",e.uid==e.dataUid)}}function h(r,i){1&r&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}let x=(()=>{class r{constructor(e,o,l,d){this.route=e,this.offersService=o,this.router=l,this.toastr=d,this.uid=localStorage.getItem("uid")}ngOnInit(){const e=this.route.snapshot.params.id;this.offersService.getCurrentOfferd(e).subscribe(o=>{this.data=o,this.dataUid=this.data.userId,this.dataId=e})}delete(){this.offersService.deleteOffer(this.dataId).subscribe(e=>{this.toastr.success("Delete offer!","Success"),this.router.navigate(["/page/auth/catalog"])})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(a.gz),t.Y36(c.b),t.Y36(a.F0),t.Y36(p._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-details-page"]],decls:2,vars:2,consts:[["class","vh-100",4,"ngIf"],[4,"ngIf"],[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100","content"],[1,"col-md-8","col-lg-7","col-xl-6"],["alt","Phone image",1,"img-fluid","img_style",3,"src"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[1,"form-outline","mb-4"],["name","title"],["name","stars"],["name","price"],["name","description"],["class","buttons",4,"ngIf"],[1,"buttons"],["type","button",1,"btn","btn-outline-primary",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,_,19,6,"section",0),t.YNc(1,h,2,0,"div",1)),2&e&&(t.Q6J("ngIf",o.data),t.xp6(1),t.Q6J("ngIf",!o.data))},directives:[m.O5,a.rH,f.O],styles:["h2[_ngcontent-%COMP%]{font-size:38px}h4[_ngcontent-%COMP%]{font-size:28px}p[_ngcontent-%COMP%]{font-style:oblique}.content[_ngcontent-%COMP%]{box-shadow:1px 1px 12px #fff;border-radius:8px}.img_style[_ngcontent-%COMP%]{border-radius:8px;margin-left:10px}"]}),r})();var n=s(2382);function v(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," This input field is required! "),t.qZA())}function Z(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," This input field is required! "),t.qZA())}function b(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," The price must be positive number! "),t.qZA())}function C(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," This input field is required! "),t.qZA())}function T(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," This input field is requied! "),t.qZA())}function q(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," The image must be in format jpg, jpeg, png, gif or bmp format! "),t.qZA())}function I(r,i){1&r&&(t.TgZ(0,"div",18),t._uU(1," This input field is required! "),t.qZA())}function U(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw(3).save()}),t.TgZ(1,"div",5)(2,"h1"),t._uU(3,"Edit Offerd"),t.qZA(),t.TgZ(4,"label",6),t._uU(5,"Hotel"),t.qZA(),t._UZ(6,"input",7),t.YNc(7,v,2,0,"div",8),t.TgZ(8,"label",9),t._uU(9,"Price:"),t.qZA(),t._UZ(10,"input",10),t.YNc(11,Z,2,0,"div",8),t.YNc(12,b,2,0,"div",8),t.TgZ(13,"label",11),t._uU(14,"Stars:"),t.qZA(),t._UZ(15,"input",12),t.YNc(16,C,2,0,"div",8),t.TgZ(17,"label",13),t._uU(18,"Image:"),t.qZA(),t._UZ(19,"input",14),t.YNc(20,T,2,0,"div",8),t.YNc(21,q,2,0,"div",8),t.TgZ(22,"label",15),t._uU(23,"Description:"),t.qZA(),t._UZ(24,"textarea",16),t.YNc(25,I,2,0,"div",8),t.TgZ(26,"button",17),t._uU(27,"Save"),t.qZA()()()}if(2&r){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(7),t.Q6J("ngIf",e.form.controls.title.touched&&(null==e.form.controls.title.errors?null:e.form.controls.title.errors.required)),t.xp6(4),t.Q6J("ngIf",e.form.controls.price.touched&&(null==e.form.controls.price.errors?null:e.form.controls.price.errors.required)),t.xp6(1),t.Q6J("ngIf",e.form.controls.price.touched&&(null==e.form.controls.price.errors?null:e.form.controls.price.errors.pattern)),t.xp6(4),t.Q6J("ngIf",e.form.controls.stars.touched&&(null==e.form.controls.stars.errors?null:e.form.controls.stars.errors.required)),t.xp6(4),t.Q6J("ngIf",e.form.controls.img.touched&&(null==e.form.controls.img.errors?null:e.form.controls.img.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==e.form.controls.img?null:e.form.controls.img.touched)&&(null==e.form.controls.img.errors?null:e.form.controls.img.errors.pattern)),t.xp6(4),t.Q6J("ngIf",e.form.controls.description.touched&&(null==e.form.controls.description.errors?null:e.form.controls.description.errors.required)),t.xp6(1),t.Q6J("disabled",e.form.invalid)}}function F(r,i){if(1&r&&(t.TgZ(0,"section",2),t.YNc(1,U,28,9,"form",3),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form)}}function A(r,i){1&r&&(t.TgZ(0,"section")(1,"div",19),t._uU(2," \u{1f46e}\u{1f3fb}\u200d\u2640\ufe0f You do not have permision!\u{1f46e}\u{1f3fb}\u200d\u2642\ufe0f\n"),t.qZA()())}function O(r,i){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,F,2,1,"section",1),t.YNc(2,A,3,0,"section",0),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.uid==e.localUid),t.xp6(1),t.Q6J("ngIf",e.uid!=e.localUid)}}function Y(r,i){1&r&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}let J=(()=>{class r{constructor(e,o,l,d,z){this.route=e,this.fb=o,this.offersService=l,this.router=d,this.toastr=z,this.id=this.route.snapshot.params.id,this.localUid=localStorage.getItem("uid")}ngOnInit(){this.offersService.getCurrentOfferd(this.id).subscribe(e=>{this.serverData=e,this.uid=this.serverData.userId,this.form=this.fb.group({title:[this.serverData.title,n.kI.required],price:[this.serverData.price,[n.kI.required,n.kI.pattern(/^\$?[0-9]+(\.[0-9][0-9])?$/)]],stars:[this.serverData.stars,n.kI.required],img:[this.serverData.img,[n.kI.required,n.kI.pattern(/\.(jpe?g|png|gif|bmp)$/i)]],description:[this.serverData.description,n.kI.required],userId:[localStorage.getItem("uid")]})})}save(){this.offersService.updateOffer(this.form.value,this.id).subscribe(e=>{this.toastr.success("Saved offer!","Success"),this.router.navigate([`/element/details/${this.id}`])})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(a.gz),t.Y36(n.qu),t.Y36(c.b),t.Y36(a.F0),t.Y36(p._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit-form"]],decls:2,vars:2,consts:[[4,"ngIf"],["id","create-page","class","auth",4,"ngIf"],["id","create-page",1,"auth"],["id","create",3,"formGroup","ngSubmit",4,"ngIf"],["id","create",3,"formGroup","ngSubmit"],[1,"container"],["for","title"],["type","text","id","title","name","title","placeholder","Enter hotel title...","formControlName","title"],["class","alert alert-danger",4,"ngIf"],["for","price"],["type","text","id","price","name","price","min","1","placeholder","$1","formControlName","price"],["for","stars"],["type","text","id","stars","name","stars","min","1","placeholder","**","formControlName","stars"],["for","img"],["appImgValidation","","type","text","id","imageUrl","name","imageUrl","placeholder","Upload a photo...","formControlName","img"],["for","description"],["name","description","id","description","formControlName","description"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],["role","alert",1,"custom-alert"]],template:function(e,o){1&e&&(t.YNc(0,O,3,2,"div",0),t.YNc(1,Y,2,0,"div",0)),2&e&&(t.Q6J("ngIf",o.serverData),t.xp6(1),t.Q6J("ngIf",!o.serverData))},directives:[m.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,f.O],styles:[".container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;width:50vw;box-shadow:1px 1px 20px 12px #fff;border-radius:8px;padding:30px;margin:20px auto}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:10px 0}.btn[_ngcontent-%COMP%]{margin-top:20px}input[_ngcontent-%COMP%]{border:none;border:1px solid white;padding:5px 10px;height:38px;border-radius:4px;background-color:transparent;box-shadow:1px 1px 12px #fff}textarea[_ngcontent-%COMP%]{border:none;border:1px solid white;padding:5px 10px;height:38px;border-radius:4px;background-color:transparent;box-shadow:1px 1px 12px #fff;height:85px}h1[_ngcontent-%COMP%]{font-size:58px}"]}),r})();function N(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," This input field is required! "),t.qZA())}function y(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," This input field is required! "),t.qZA())}function D(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," The price must be positive number! "),t.qZA())}function P(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," This input field is required! "),t.qZA())}function S(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," This input field is required! "),t.qZA())}function E(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," The image must be in format jpg, jpeg, png, gif or bmp format! "),t.qZA())}function M(r,i){1&r&&(t.TgZ(0,"div",15),t._uU(1," This input field is requied! "),t.qZA())}let Q=(()=>{class r{constructor(e,o,l,d){this.fb=e,this.offersSevice=o,this.router=l,this.toastr=d}ngOnInit(){this.form=this.fb.group({title:["",n.kI.required],price:["",[n.kI.required,n.kI.pattern(/^\$?[0-9]+(\.[0-9][0-9])?$/)]],stars:["",n.kI.required],img:["",[n.kI.required,n.kI.pattern(/\.(jpe?g|png|gif|bmp)$/i)]],description:["",n.kI.required],userId:[localStorage.getItem("uid")]})}create(){this.offersSevice.createOffer(this.form.value).subscribe(e=>{this.toastr.success("Added offer!","Success"),this.router.navigate(["/page/auth/catalog"])})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(n.qu),t.Y36(c.b),t.Y36(a.F0),t.Y36(p._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-create-form"]],decls:29,vars:9,consts:[["id","create-page",1,"auth"],["id","create",3,"formGroup","ngSubmit"],[1,"container"],["for","title"],["type","text","id","title","name","title","placeholder","Enter hotel title...","formControlName","title"],["class","alert alert-danger",4,"ngIf"],["for","price"],["type","text","id","price","name","price","min","1","placeholder","$1","formControlName","price"],["for","stars"],["type","text","id","stars","name","stars","min","1","placeholder","**","formControlName","stars"],["for","img"],["appImgValidation","","type","text","id","imageUrl","name","imageUrl","placeholder","Upload a photo...","formControlName","img"],["for","description"],["name","description","id","description","formControlName","description"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.create()}),t.TgZ(2,"div",2)(3,"h1"),t._uU(4,"Create Offer"),t.qZA(),t.TgZ(5,"label",3),t._uU(6,"Hotel:"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,N,2,0,"div",5),t.TgZ(9,"label",6),t._uU(10,"Price:"),t.qZA(),t._UZ(11,"input",7),t.YNc(12,y,2,0,"div",5),t.YNc(13,D,2,0,"div",5),t.TgZ(14,"label",8),t._uU(15,"Stars:"),t.qZA(),t._UZ(16,"input",9),t.YNc(17,P,2,0,"div",5),t.TgZ(18,"label",10),t._uU(19,"Image:"),t.qZA(),t._UZ(20,"input",11),t.YNc(21,S,2,0,"div",5),t.YNc(22,E,2,0,"div",5),t.TgZ(23,"label",12),t._uU(24,"Description:"),t.qZA(),t._UZ(25,"textarea",13),t.YNc(26,M,2,0,"div",5),t.TgZ(27,"button",14),t._uU(28,"Add Offerd"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("ngIf",o.form.controls.title.touched&&(null==o.form.controls.title.errors?null:o.form.controls.title.errors.required)),t.xp6(4),t.Q6J("ngIf",o.form.controls.price.touched&&(null==o.form.controls.price.errors?null:o.form.controls.price.errors.required)),t.xp6(1),t.Q6J("ngIf",o.form.controls.price.touched&&(null==o.form.controls.price.errors?null:o.form.controls.price.errors.pattern)),t.xp6(4),t.Q6J("ngIf",o.form.controls.stars.touched&&(null==o.form.controls.stars.errors?null:o.form.controls.stars.errors.required)),t.xp6(4),t.Q6J("ngIf",o.form.controls.img.touched&&(null==o.form.controls.img.errors?null:o.form.controls.img.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==o.form.controls.img?null:o.form.controls.img.touched)&&(null==o.form.controls.img.errors?null:o.form.controls.img.errors.pattern)),t.xp6(4),t.Q6J("ngIf",o.form.controls.description.touched&&(null==o.form.controls.description.errors?null:o.form.controls.description.errors.required)),t.xp6(1),t.Q6J("disabled",o.form.invalid))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,m.O5],styles:[".container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;width:50vw;box-shadow:1px 1px 20px 12px #fff;border-radius:8px;padding:30px;margin:20px auto}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:10px 0}.btn[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:80px}input[_ngcontent-%COMP%]{border:none;border:1px solid white;padding:5px 10px;height:38px;border-radius:4px;background-color:transparent;box-shadow:1px 1px 12px #fff}textarea[_ngcontent-%COMP%]{border:none;border:1px solid white;padding:5px 10px;height:38px;border-radius:4px;background-color:transparent;box-shadow:1px 1px 12px #fff;height:85px}h1[_ngcontent-%COMP%]{font-size:58px}"]}),r})();var w=s(1457);const j=[{path:"",children:[{path:"create",component:Q},{path:"details/:id",component:x},{path:"details/:id/edit",component:J},{path:"**",component:s(1402).u}],canActivate:[w.a]}];let $=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[a.Bz.forChild(j)],a.Bz]}),r})()}}]);